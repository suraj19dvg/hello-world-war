pipeline {
  agent {label "slave_server1"}
    stages {
      stages ("tomcat build") {
        steps {
          sh 'mvn package'
          sh 'ls'
          echo "packages build"
          }
        }
       stage ("tomcat deploy") {
        steps {
          sh 'sudo cp -R target/hello-world-war-1.0.0.war /opt/tomcat/webapps/'
          sh 'sudo sh /opt/tomcat/webapps/bin/shutdown.sh'
          sh 'sudo sleep 3'
          sh 'sudo sh /opt/tomcat/bin/startup.sh'
          echo "deployment is succrsfull"
          echo "copy the public ip of instance and open it browser port:8080"
          }
        }
      }
    }
   }
